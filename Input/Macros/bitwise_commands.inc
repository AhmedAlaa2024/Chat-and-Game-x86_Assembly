; SRC WILL RETURN THE CODE FOR THE SRC EX:00->AX
DETECT_SRC MACRO MSG,SRC

ENDM DETECT_SRC
; SRC WILL RETURN THE CODE FOR THE SRC EX:00->AX
DETECT_DEST MACRO MSG,DEST
    
ENDM DETECT_DEST
; OP WILL RETURN THE OP CODE (ACORDING TO THE PROJECT PDF) 0 FOR ADD 
DETECT_OPERATION MACRO MSG,SRC,DEST
;=============================================
;  [SHR - SHL - SAR - ROR - RCL - RCR - ROL]
;=============================================
    LOCAL CHECK_SHL
    ;CHECK SHR
    CMP MSG[0],'S'
    JNE CHECK_SHL
    CMP MSG[1],'H'
    JNE CHECK_SHL
    CMP MSG[2],'R'
    JNE CHECK_SHL
    SHR SRC,DEST
CHECK_SHL:


ENDM DETECT_OPERATION
;MAIN MACRO HERE
OPERATE MACRO MSG
PUSH AX
    DETECT_SRC MSG,AL
    DETECT_DEST MSG,AH
    CMP AX,0
    DETECT_OPERATION MSG AX,AX ; NOT EXACTLY AX BUT THE LOACTION OF THE P1 AX
POP AX    
ENDM OPERATE
